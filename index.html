<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
  integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
  crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
  integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
  crossorigin=""></script>

  <title>IlliniAlertWeb</title>

  <style>#map {
    display: block;
    margin-left: auto;
    margin-right: auto;
    height: 500px;
    width: 95%;

  }</style>
</head>
<body>
  <h1>IlliniAlert Map</h1>
  <div id="map"></div>
  <script>
    var map = L.map('map', {doubleClickZoom: false}).locate({setView: true, maxZoom: 16})

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    function onLocationFound(e) { // Function template by TomazicM
      var radius = e.accuracy / 2; // to get the radius, divide diameter by 2.
      L.marker(e.latlng).addTo(map)
        .bindPopup("You are within " + radius + " meters from this point").openPopup(); // Message on pin.
      L.circle(e.latlng, radius).addTo(map);
    }

    map.on('locationfound', onLocationFound);
    map.locate({setView: true, watch: true, maxZoom: 8}); // If you want to update location when moving.
  </script>
  <p>Please turn on location permissions for the page to work.</p>
</body>
</html>